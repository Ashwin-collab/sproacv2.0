<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>SPROAC - Smart Produce Monitoring</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #e8f5e9 0%, #f1f8e9 50%, #fff9c4 100%);
    min-height: 100vh;
    touch-action: manipulation;
    -webkit-user-select: none;
    user-select: none;
    overflow-x: hidden;
}

/* Header */
.header {
    background: linear-gradient(135deg, #66bb6a 0%, #81c784 100%);
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    display: flex;
    align-items: center;
    gap: 12px;
}

.logo-icon {
    font-size: 40px;
}

.logo-text {
    color: white;
    font-size: 28px;
    font-weight: 700;
    letter-spacing: 1px;
}

.status-badge {
    background: rgba(255,255,255,0.95);
    padding: 8px 16px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.status-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #4caf50;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.status-text {
    color: #2e7d32;
    font-weight: 600;
    font-size: 13px;
}

/* Date Time Widget */
.datetime-widget {
    background: white;
    padding: 16px;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    margin: 20px;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.datetime-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 8px;
}

.date-info {
    color: #666;
    font-size: 14px;
}

.time-display {
    font-size: 24px;
    font-weight: 700;
    color: #2e7d32;
    letter-spacing: 1px;
}

/* Container */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

/* Welcome Screen */
.welcome-screen {
    text-align: center;
    padding: 40px 20px;
}

.welcome-icon {
    font-size: 80px;
    margin-bottom: 20px;
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.welcome-title {
    font-size: 32px;
    color: #2e7d32;
    margin-bottom: 12px;
    font-weight: 700;
}

.welcome-subtitle {
    color: #666;
    font-size: 16px;
    margin-bottom: 30px;
}

/* Cards Grid */
.cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.menu-card {
    background: white;
    border-radius: 20px;
    padding: 24px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.menu-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.12);
    border-color: #66bb6a;
}

.menu-card:active {
    transform: scale(0.98);
}

.card-icon {
    font-size: 48px;
    margin-bottom: 16px;
}

.card-title {
    font-size: 20px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.card-description {
    font-size: 14px;
    color: #777;
    line-height: 1.4;
}

/* Item Selection Cards */
.item-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 16px;
}

.item-card {
    background: white;
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    border: 2px solid transparent;
}

.item-card:hover {
    transform: scale(1.05);
    border-color: #66bb6a;
    box-shadow: 0 4px 20px rgba(102,187,106,0.3);
}

.item-icon {
    font-size: 60px;
    margin-bottom: 12px;
}

.item-name {
    font-size: 18px;
    font-weight: 600;
    color: #333;
}

/* Sensor Display Cards */
.sensor-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.sensor-card {
    background: white;
    border-radius: 20px;
    padding: 24px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.sensor-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #66bb6a, #81c784);
}

.sensor-label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-size: 16px;
    color: #666;
    margin-bottom: 16px;
}

.sensor-icon {
    font-size: 24px;
}

.sensor-value {
    font-size: 36px;
    font-weight: 700;
    color: #2e7d32;
    margin-bottom: 8px;
}

.sensor-unit {
    font-size: 14px;
    color: #999;
}

/* Back Button */
.back-btn {
    background: white;
    border: 2px solid #66bb6a;
    color: #66bb6a;
    padding: 12px 24px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 20px;
}

.back-btn:hover {
    background: #66bb6a;
    color: white;
}

/* Chart Container */
.chart-container {
    background: white;
    border-radius: 20px;
    padding: 24px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    margin-bottom: 30px;
}

.chart-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 20px;
}

.chart-title {
    font-size: 22px;
    font-weight: 700;
    color: #2e7d32;
}

/* Table */
.table-container {
    background: white;
    border-radius: 20px;
    padding: 24px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    overflow-x: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th {
    background: linear-gradient(135deg, #66bb6a, #81c784);
    color: white;
    padding: 14px;
    text-align: left;
    font-weight: 600;
    font-size: 14px;
}

th:first-child {
    border-top-left-radius: 12px;
}

th:last-child {
    border-top-right-radius: 12px;
}

td {
    padding: 12px 14px;
    border-bottom: 1px solid #f0f0f0;
    color: #666;
    font-size: 14px;
}

tr:hover {
    background: #f9fdf9;
}

/* Info Sections */
.info-section {
    background: white;
    border-radius: 20px;
    padding: 28px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    margin-bottom: 20px;
}

.info-title {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 24px;
    font-weight: 700;
    color: #2e7d32;
    margin-bottom: 20px;
}

.info-content {
    color: #666;
    line-height: 1.8;
}

.info-content h3 {
    color: #2e7d32;
    margin-top: 24px;
    margin-bottom: 12px;
    font-size: 18px;
}

.info-content p {
    margin-bottom: 12px;
}

.info-content ul {
    margin-left: 24px;
    margin-bottom: 16px;
}

.info-content li {
    margin-bottom: 8px;
}

/* Hidden State */
.state {
    display: none;
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive */
@media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        gap: 12px;
    }
    
    .logo-text {
        font-size: 24px;
    }
    
    .welcome-title {
        font-size: 26px;
    }
    
    .cards-grid {
        grid-template-columns: 1fr;
    }
    
    .sensor-grid {
        grid-template-columns: 1fr;
    }
}

/* Prevent zoom */
document.addEventListener('gesturestart', function(e) {
    e.preventDefault();
});
</style>
</head>

<body>

<!-- Header -->
<div class="header">
    <div class="header-content">
        <div class="logo">
            <span class="logo-icon">üå±</span>
            <span class="logo-text">SPROAC</span>
        </div>
        <div class="status-badge">
            <div class="status-dot"></div>
            <span class="status-text" id="status">ONLINE</span>
        </div>
    </div>
</div>

<!-- Date Time Widget -->
<div class="datetime-widget">
    <div class="datetime-row">
        <div class="date-info">
            <div id="day" style="font-weight: 600; color: #2e7d32;">--</div>
            <div id="date" style="font-size: 13px; margin-top: 4px;">--</div>
        </div>
        <div class="time-display" id="time">--:--:--</div>
    </div>
</div>

<div class="container">

<!-- START -->
<div id="START" class="state">
    <div class="welcome-screen">
        <div class="welcome-icon">üå±</div>
        <h1 class="welcome-title">Welcome to SPROAC</h1>
        <p class="welcome-subtitle">Smart Produce Monitoring System</p>
        <button class="back-btn" onclick="setState('MAIN')" style="background: #66bb6a; color: white; border: none; font-size: 18px; padding: 14px 32px;">
            Get Started ‚Üí
        </button>
    </div>
</div>

<!-- MAIN MENU -->
<div id="MAIN" class="state">
    <div class="cards-grid">
        <div class="menu-card" onclick="setState('CATEGORY')">
            <div class="card-icon">üçé</div>
            <div class="card-title">Monitor Produce</div>
            <div class="card-description">Track vegetables and fruits freshness</div>
        </div>
        
        <div class="menu-card" onclick="setState('GRAPH')">
            <div class="card-icon">üìä</div>
            <div class="card-title">Graphical Data</div>
            <div class="card-description">View sensor trends over time</div>
        </div>
        
        <div class="menu-card" onclick="setState('LOG')">
            <div class="card-icon">üìã</div>
            <div class="card-title">All Readings</div>
            <div class="card-description">Complete sensor history</div>
        </div>
        
        <div class="menu-card" onclick="setState('HELP')">
            <div class="card-icon">‚ùì</div>
            <div class="card-title">Help & Support</div>
            <div class="card-description">Learn how to use SPROAC</div>
        </div>
        
        <div class="menu-card" onclick="setState('ABOUT')">
            <div class="card-icon">‚ÑπÔ∏è</div>
            <div class="card-title">About Us</div>
            <div class="card-description">Learn about our technology</div>
        </div>
    </div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('START')">‚Üê Back to Home</button>
    </div>
</div>

<!-- CATEGORY -->
<div id="CATEGORY" class="state">
    <h2 style="text-align: center; color: #2e7d32; margin-bottom: 24px; font-size: 28px;">Select Category</h2>
    <div class="cards-grid">
        <div class="menu-card" onclick="setCategory('VEG')">
            <div class="card-icon">ü•ï</div>
            <div class="card-title">Vegetables</div>
            <div class="card-description">Monitor onion, garlic, potato</div>
        </div>
        
        <div class="menu-card" onclick="setCategory('FRUIT')">
            <div class="card-icon">üçé</div>
            <div class="card-title">Fruits</div>
            <div class="card-description">Monitor tomato, banana</div>
        </div>
    </div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('MAIN')">‚Üê Back</button>
    </div>
</div>

<!-- ITEM -->
<div id="ITEM" class="state">
    <h2 style="text-align: center; color: #2e7d32; margin-bottom: 24px; font-size: 28px;">Select Item</h2>
    <div class="item-grid" id="itemButtons"></div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('CATEGORY')">‚Üê Back</button>
    </div>
</div>

<!-- PARAM -->
<div id="PARAM" class="state">
    <h2 style="text-align: center; color: #2e7d32; margin-bottom: 24px; font-size: 28px;">Live Monitoring</h2>
    <div class="sensor-grid">
        <div class="sensor-card">
            <div class="sensor-label">
                <span class="sensor-icon">üå°Ô∏è</span>
                <span>Temperature</span>
            </div>
            <div class="sensor-value" id="temp">--</div>
            <div class="sensor-unit">¬∞C</div>
        </div>
        
        <div class="sensor-card">
            <div class="sensor-label">
                <span class="sensor-icon">üíß</span>
                <span>Humidity</span>
            </div>
            <div class="sensor-value" id="hum">--</div>
            <div class="sensor-unit">%</div>
        </div>
        
        <div class="sensor-card">
            <div class="sensor-label">
                <span class="sensor-icon">‚òÅÔ∏è</span>
                <span>Gas Level</span>
            </div>
            <div class="sensor-value" id="gas">--</div>
            <div class="sensor-unit">ppm</div>
        </div>
    </div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('ITEM')">‚Üê Back</button>
    </div>
</div>

<!-- GRAPH -->
<div id="GRAPH" class="state">
    <div class="chart-container">
        <div class="chart-header">
            <span style="font-size: 28px;">üìä</span>
            <h2 class="chart-title">Gas Sensor Trends</h2>
        </div>
        <canvas id="gasChart"></canvas>
    </div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('MAIN')">‚Üê Back</button>
    </div>
</div>

<!-- LOG -->
<div id="LOG" class="state">
    <div class="table-container">
        <h2 style="text-align: center; color: #2e7d32; margin-bottom: 24px; font-size: 28px;">üìã All Readings</h2>
        <table id="dataTable">
            <thead>
                <tr>
                    <th>Date & Time</th>
                    <th>Temp (¬∞C)</th>
                    <th>Hum (%)</th>
                    <th>H2S (ppm)</th>
                    <th>MQ135 (ppm)</th>
                    <th>Alcohol (ppm)</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('MAIN')">‚Üê Back</button>
    </div>
</div>

<!-- HELP -->
<div id="HELP" class="state">
    <div class="info-section">
        <div class="info-title">
            <span>‚ùì</span>
            <span>Help & Support</span>
        </div>
        <div class="info-content">
            <h3>üìò How to Use SPROAC</h3>
            <p><b>Step 1:</b> Power ON the SPROAC device and ensure all sensors are properly connected.</p>
            <p><b>Step 2:</b> Connect the device to WiFi and wait until data begins syncing to the cloud.</p>
            <p><b>Step 3:</b> Open the SPROAC dashboard or application.</p>
            <p><b>Step 4:</b> Navigate to <b>Main Menu ‚Üí Monitor Produce</b>.</p>
            <p><b>Step 5:</b> Select the produce to monitor:</p>
            <ul>
                <li>üßÖ Onion / Garlic ‚Üí Uses H2S Gas Sensor</li>
                <li>ü•î Potato ‚Üí Uses MQ135 Gas Sensor</li>
                <li>üçÖ Tomato / üçå Banana ‚Üí Uses Alcohol Sensor</li>
            </ul>
            <p><b>Step 6:</b> Monitor real-time values:</p>
            <ul>
                <li>üå° Temperature</li>
                <li>üíß Humidity</li>
                <li>‚òÅ Gas Level (PPM)</li>
            </ul>
            <p><b>Step 7:</b> If gas level rises significantly, spoilage may begin. Take corrective action.</p>
            
            <h3>‚ö†Ô∏è Troubleshooting</h3>
            <ul>
                <li>No data showing ‚Üí Check WiFi connection</li>
                <li>Incorrect gas values ‚Üí Recalibrate sensors</li>
                <li>Device offline ‚Üí Verify power supply</li>
                <li>Dashboard not loading ‚Üí Refresh or restart app</li>
            </ul>
            
            <h3>üìû Support</h3>
            <p>Email: <b>ashwinlauzer@gmail.com</b></p>
            <p>Contact: <b>+91 8610640752</b></p>
        </div>
    </div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('MAIN')">‚Üê Back</button>
    </div>
</div>

<!-- ABOUT -->
<div id="ABOUT" class="state">
    <div class="info-section">
        <div class="info-title">
            <span>‚ÑπÔ∏è</span>
            <span>About SPROAC</span>
        </div>
        <div class="info-content">
            <h3>üå± What is SPROAC?</h3>
            <p>SPROAC is an intelligent IoT-based monitoring system designed to detect early spoilage in fruits and vegetables using environmental and gas sensing (E-NOSE) technology. The system continuously monitors storage conditions and identifies chemical changes that indicate produce deterioration, helping prevent food wastage and maintain freshness.</p>
            
            <h3>üéØ Mission</h3>
            <ul>
                <li>Reduce post-harvest food wastage</li>
                <li>Enable early spoilage detection</li>
                <li>Improve storage monitoring</li>
                <li>Enhance food safety & quality</li>
                <li>Support smart agriculture solutions</li>
            </ul>
            
            <h3>üî¨ Technology Used</h3>
            <p>SPROAC integrates embedded hardware, gas sensing, and cloud monitoring to provide real-time insights into produce freshness.</p>
            <ul>
                <li>üå° Temperature & Humidity Monitoring</li>
                <li>‚òÅ H2S Gas Detection ‚Äì Onion & Garlic</li>
                <li>üìä MQ135 Gas Detection ‚Äì Potato</li>
                <li>üç∫ Alcohol / Ethylene Detection ‚Äì Fruits</li>
                <li>üì° Cloud Data Logging & Visualization</li>
            </ul>
            
            <h3>üåç Applications</h3>
            <ul>
                <li>Food warehouses</li>
                <li>Agricultural produce storage</li>
                <li>Smart supply chain systems</li>
                <li>Food quality monitoring</li>
            </ul>
            
            <p style="text-align: center; margin-top: 30px; font-weight: 600; color: #2e7d32; font-size: 16px;">
                üå± SPROAC ‚Äî Smart Monitoring for Freshness, Safety & Sustainability üå±
            </p>
        </div>
    </div>
    <div style="text-align: center;">
        <button class="back-btn" onclick="setState('MAIN')">‚Üê Back</button>
    </div>
</div>

</div>

<script>

const API_URL = "https://script.google.com/macros/s/AKfycbyNjAvZGUc4VsbMXySa04ItqkSReNQMlsgtAwqRng_Y60VlRXiwIU0pjpQ3LvUxRhGCsg/exec";

let currentItem = "";
let gasChart = null;

// Prevent zoom
let lastTouchEnd = 0;
document.addEventListener('touchend', function(event) {
    const now = (new Date()).getTime();
    if (now - lastTouchEnd <= 300) {
        event.preventDefault();
    }
    lastTouchEnd = now;
}, false);

document.addEventListener('gesturestart', function(e) {
    e.preventDefault();
});

function setState(state) {
    document.querySelectorAll(".state").forEach(s => s.style.display = "none");
    document.getElementById(state).style.display = "block";
    
    // Update data when viewing PARAM state
    if (state === "PARAM") {
        updateData();
    }
}
setState("START");

function setCategory(cat) {
    const c = document.getElementById("itemButtons");
    c.innerHTML = "";
    
    if (cat === "VEG") {
        c.innerHTML += `
            <div class="item-card" onclick="selectItem('Onion')">
                <div class="item-icon">üßÖ</div>
                <div class="item-name">Onion</div>
            </div>
            <div class="item-card" onclick="selectItem('Garlic')">
                <div class="item-icon">üßÑ</div>
                <div class="item-name">Garlic</div>
            </div>
            <div class="item-card" onclick="selectItem('Potato')">
                <div class="item-icon">ü•î</div>
                <div class="item-name">Potato</div>
            </div>
        `;
    } else {
        c.innerHTML += `
            <div class="item-card" onclick="selectItem('Tomato')">
                <div class="item-icon">üçÖ</div>
                <div class="item-name">Tomato</div>
            </div>
            <div class="item-card" onclick="selectItem('Banana')">
                <div class="item-icon">üçå</div>
                <div class="item-name">Banana</div>
            </div>
        `;
    }
    setState("ITEM");
}

function selectItem(item) {
    currentItem = item;
    setState("PARAM");
}

async function updateData() {
    try {
        const res = await fetch(API_URL);
        const data = await res.json();
        if (!data.length) return;

        const last = data[data.length - 1];

        document.getElementById("temp").textContent = last.temperature;
        document.getElementById("hum").textContent = last.humidity;

        let gas = 0;
        if (currentItem === "Onion" || currentItem === "Garlic") gas = last.h2s;
        else if (currentItem === "Potato") gas = last.mq135;
        else gas = last.alcohol;

        document.getElementById("gas").textContent = gas;

        // Update chart
        const labels = data.map(d => d.datetime);
        const h2s = data.map(d => d.h2s);
        const mq = data.map(d => d.mq135);
        const alc = data.map(d => d.alcohol);

        if (!gasChart) {
            const ctx = document.getElementById("gasChart").getContext("2d");
            gasChart = new Chart(ctx, {
                type: "line",
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: "H2S (Onion/Garlic)",
                            data: h2s,
                            borderColor: "#ef4444",
                            backgroundColor: "rgba(239,68,68,0.1)",
                            borderWidth: 3,
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: "MQ135 (Potato)",
                            data: mq,
                            borderColor: "#3b82f6",
                            backgroundColor: "rgba(59,130,246,0.1)",
                            borderWidth: 3,
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: "Alcohol (Fruits)",
                            data: alc,
                            borderColor: "#22c55e",
                            backgroundColor: "rgba(34,197,94,0.1)",
                            borderWidth: 3,
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        } else {
            gasChart.data.labels = labels;
            gasChart.data.datasets[0].data = h2s;
            gasChart.data.datasets[1].data = mq;
            gasChart.data.datasets[2].data = alc;
            gasChart.update();
        }

        // Update table
        const tbody = document.querySelector("#dataTable tbody");
        tbody.innerHTML = "";
        data.slice().reverse().forEach(r => {
            const tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${r.datetime}</td>
                <td>${r.temperature}</td>
                <td>${r.humidity}</td>
                <td>${r.h2s}</td>
                <td>${r.mq135}</td>
                <td>${r.alcohol}</td>
            `;
            tbody.appendChild(tr);
        });

    } catch (e) {
        console.error("Error updating data:", e);
    }
}

// Update data every 3 seconds
setInterval(updateData, 3000);

// Date Time Functions
function updateDateTime() {
    const now = new Date();
    const days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    const months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    
    document.getElementById("day").textContent = days[now.getDay()];
    
    document.getElementById("date").textContent = 
        String(now.getDate()).padStart(2, '0') + " " +
        months[now.getMonth()] + " " +
        now.getFullYear();
    
    let h = now.getHours();
    let ampm = h >= 12 ? "PM" : "AM";
    h = h % 12;
    h = h ? h : 12;
    let m = String(now.getMinutes()).padStart(2, '0');
    let s = String(now.getSeconds()).padStart(2, '0');
    
    document.getElementById("time").textContent = h + ":" + m + ":" + s + " " + ampm;
}

function updateStatus() {
    const status = document.getElementById("status");
    if (navigator.onLine) {
        status.textContent = "ONLINE";
    } else {
        status.textContent = "OFFLINE";
    }
}

setInterval(updateDateTime, 1000);
setInterval(updateStatus, 2000);
updateDateTime();
updateStatus();

// Initial data load
updateData();

</script>

</body>
</html>
